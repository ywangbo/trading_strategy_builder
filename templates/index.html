<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategy Builder</title>
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>
    <h1>Trading Strategy Builder</h1>
    <form id="selectionForm" method="POST" action="/">
        <select name="country" id="country-select">
            {% for country in countries %}
            <option value="{{ country }}" {% if country == selected_country %}selected{% endif %}>{{ country }}</option>
            {% endfor %}
        </select>
        <select name="sector" id="sector-select">
            {% for sector in sectors %}
            <option value="{{ sector }}" {% if sector == selected_sector %}selected{% endif %}>{{ sector }}</option>
            {% endfor %}
        </select>
    </form>
    <div id="table-container">
        {{ table | safe }}
    </div>
    <script>
        document.getElementById('country-select').addEventListener('change', function() {
            document.getElementById('selectionForm').submit();
        });
    
        document.getElementById('sector-select').addEventListener('change', function() {
            document.getElementById('selectionForm').submit();
        });
    </script>
</body>
</html>